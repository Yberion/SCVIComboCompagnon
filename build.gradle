/*
* This file was generated by the Gradle 'init' task.
*
* This generated file contains a sample Java project to get you started.
* For more details take a look at the Java Quickstart chapter in the Gradle
* User Manual available at https://docs.gradle.org/6.5.1/userguide/tutorial_java_projects.html
*/

// gradle wrapper : https://docs.gradle.org/6.5.1/userguide/gradle_wrapper.html
// gradle Java application : https://guides.gradle.org/building-java-applications/
// spotless : https://plugins.gradle.org/plugin/com.diffplug.spotless

plugins {
    // Apply the java plugin to add support for Java
    id 'java'

    // Apply the application plugin to add support for building a CLI application.
    id 'application'

    // The Distribution Plugin facilitates building archives that serve as distributions of the project.
    // Distribution archives typically contain the executable application and other supporting files, such as documentation.
    id 'distribution'

    // Spotless - keep your code spotless with Gradle
    id "com.diffplug.spotless" version "5.1.1"
}

java {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

compileJava.options.encoding = "UTF-8"
compileTestJava.options.encoding = "UTF-8"

repositories {
    // Use jcenter for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
}

dependencies {
    // Use JUnit Jupiter API for testing.
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.2'

    // Use JUnit Jupiter Engine for testing.
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.6.2'

    // tinylog2 for logging
    implementation 'org.tinylog:tinylog-api:2.1.2'
    implementation 'org.tinylog:tinylog-impl:2.1.2'
}

application {
    // Define the main class for the application.
    mainClassName = 'scvicombocompagnon.Main'
}

test {
    // Use junit platform for unit tests
    useJUnitPlatform()
}

spotless {
    format 'misc', {
        target '*.gradle', '*.md'

        trimTrailingWhitespace()
        indentWithSpaces()
        endWithNewline()
    }
    java {
        licenseHeaderFile 'src/resources/spotless/license/LICENSE.spotless'

        importOrder()
        removeUnusedImports()

        eclipse().configFile('src/resources/eclipse/formatter/Brandon_Java.xml')
    }
}
